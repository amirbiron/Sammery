# 🤖 בוט הסיכומים השבועיים לטלגרם

בוט אוטומטי שיוצר סיכומים שבועיים חכמים של פוסטים מערוץ טלגרם מסוים, עם תצוגה מקדימה ופרסום אוטומטי.

## ✨ תכונות

- 📖 **קריאה אוטומטית** של פוסטים מהשבוע האחרון
- 🧠 **סיכום חכם** עם GPT-4 Turbo בעברית
- 👀 **תצוגה מקדימה** לפני פרסום
- ⏰ **תזמון אוטומטי** (שישי 16:00)
- 📱 **ממשק ידידותי** עם כפתורים
- 🚀 **פריסה קלה** על Render

## 🔧 הגדרה ראשונית

### 1. יצירת הבוט בטלגרם
1. פתח שיחה עם [@BotFather](https://t.me/BotFather)
2. שלח `/newbot`
3. בחר שם לבוט שלך
4. בחר username (חייב להסתיים ב-bot)
5. שמור את הטוקן שתקבל

### 2. קבלת Chat ID שלך
1. שלח הודעה לבוט [@userinfobot](https://t.me/userinfobot)
2. הבוט יחזיר לך את ה-Chat ID שלך

### 3. קבלת מפתח OpenAI
1. היכנס ל-[OpenAI Platform](https://platform.openai.com/)
2. ליצור חשבון או התחבר
3. ילך ל-API Keys ותיצור מפתח חדש
4. שמור את המפתח

### 4. הרשאות הבוט
הבוט חייב להיות:
- ✅ מנהל בערוץ
- ✅ עם הרשאה לקרוא הודעות
- ✅ עם הרשאה לפרסם הודעות

## 🚀 פריסה על Render

### שלב 1: העלאת הקוד
1. צור repository חדש ב-GitHub
2. העלה את כל הקבצים לrepository
3. וודא שכל הקבצים נמצאים בroot directory

### שלב 2: יצירת שירות ב-Render
1. היכנס ל-[Render.com](https://render.com)
2. לחץ על "New +" → "Web Service"
3. חבר את ה-GitHub repository שלך
4. הגדר:
   - **Name**: שם לשירות
   - **Environment**: Python 3
   - **Build Command**: `pip install -r requirements.txt`
   - **Start Command**: `python main.py`

### שלב 3: הגדרת משתני סביבה
ב-Render, עבור ל-"Environment" והוסף:

```
TELEGRAM_BOT_TOKEN = טוקן הבוט שלך
CHANNEL_USERNAME = AndroidAndAI
OPENAI_API_KEY = מפתח OpenAI שלך
ADMIN_CHAT_ID = Chat ID שלך
```

### שלב 4: Deploy
לחץ על "Create Web Service" - Render יתחיל לבנות ולהריץ את הבוט.

## 📱 שימוש בבוט

### פקודות זמינות:
- `/start` - הודעת ברוכים הבאים
- `/generate_summary` - יצירת סיכום ידני (רק לאדמין)
- `/preview` - תצוגה מקדימה של הסיכום האחרון

### תזמון אוטומטי:
הבוט פועל אוטומטית כל שישי ב-16:00 (שעון ישראל) ויוצר סיכום של הפוסטים מהשבוע האחרון.

### תהליך הסיכום:
1. 🔍 הבוט קורא את כל הפוסטים מהשבוע האחרון
2. 🤖 GPT-4 יוצר סיכום חכם בעברית
3. 📱 הבוט שולח לך הודעה עם תצוגה מקדימה
4. ✅ אתה יכול לבחור לפרסם או ליצור סיכום חדש

## 🔧 התאמות אישיות

### שינוי זמן התזמון:
בקובץ `main.py`, שורה עם `schedule.every().friday.at("16:00")`:
```python
# למשל, יום ראשון ב-20:00:
schedule.every().sunday.at("20:00")
```

### שינוי פורמט הסיכום:
בפונקציה `create_summary_with_gpt4`, ערוך את ה-prompt:
```python
prompt = f"""
[הפורמט החדש שלך כאן]
"""
```

### שינוי מספר ימים לחזרה:
בפונקציה `get_channel_posts`, שנה את `days_back`:
```python
posts = await self.get_channel_posts(days_back=14)  # 14 ימים במקום 7
```

## 🐛 פתרון בעיות

### הבוט לא קורא הודעות:
- ✅ ודא שהבוט מנהל בערוץ
- ✅ ודא שהבוט לא חסום
- ✅ בדק את שם הערוץ (ללא @)

### שגיאות OpenAI:
- ✅ ודא שיש לך קרדיט ב-OpenAI
- ✅ בדק שהמפתח תקין
- ✅ ודא שאתה משתמש ב-GPT-4

### הבוט לא מגיב:
- ✅ בדק את הלוגים ב-Render
- ✅ ודא שכל משתני הסביבה מוגדרים
- ✅ ודא שה-Chat ID נכון

## 📊 מעקב ולוגים

בRender, תוכל לראות לוגים בזמן אמת:
1. עבור לשירות שלך
2. לחץ על "Logs"
3. תוכל לראות את כל הפעילות של הבוט

## 💡 טיפים

1. **גיבוי**: שמור גיבוי של הטוקנים והמפתחות
2. **בדיקה**: בדוק את הבוט בהתחלה עם `/generate_summary`
3. **ניטור**: עקוב אחר הלוגים ב-Render
4. **עדכונים**: עדכן את הקוד לפי הצורך

## 🆘 תמיכה

אם נתקלת בבעיות:
1. בדוק את הלוגים ב-Render
2. ודא שכל ההגדרות נכונות
3. בדוק שהבוט פעיל ומחובר

---

🎉 **הבוט מוכן לפעולה!** עכשיו תוכל ליהנות מסיכומים אוטומטיים של הערוץ שלך.
